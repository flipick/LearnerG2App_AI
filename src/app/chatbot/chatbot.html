<div id="chatbotView" class="w-full h-full">
    <div class="flex flex-col lg:flex-row gap-6 h-full">
      <!-- Chat Panel -->
      <div class="w-full grow shrink-0 basis-[0%] w-full max-w-full h-full grid grid-rows-[auto_1fr_auto] bg-white dark:bg-[#2d2d2d] border border-[#aaabab] dark:border-[#545454] rounded-lg shadow-sm p-4 flex flex-col">
        <!-- Header -->
        <div class="mb-4">
          <h3 class="text-xl font-semibold text-black dark:text-white">Learning Assistant</h3>
          <p class="text-sm text-[#7b8fa2] dark:text-[#b3c0cd]">Ask me anything about your courses</p>
        </div>
  
        <!-- Messages -->
        <div id="chatMessages" class="flex-1 overflow-y-auto space-y-3 mb-4 max-h-full pr-2">
          <div class="bg-[#f1f5f9] dark:bg-[#3a3a3a] text-sm text-black dark:text-white p-3 rounded-md w-fit max-w-[75%]">
            Hello! I'm your learning assistant. Ask me anything about your courses and I'll help you with information from our
            knowledge base.
          </div>
        
          <div *ngFor="let msg of messages()" class="mb-4">
            <div *ngIf="msg.type === 'user'" class="flex justify-end">
              <div class="bg-gray-200 text-gray-800 px-4 py-2 rounded-xl shadow">
                {{ msg.text }}
              </div>
            </div>
        
            <div *ngIf="msg.type === 'bot'" class="flex justify-start prompt-send">
              <div class="bg-blue-50 text-gray-900 px-4 py-3 rounded-xl shadow w-full">
                <div [innerHTML]="msg.text"></div>
              </div>
            </div>
          </div>
        </div>
  
        <!-- Input -->
        <div class="flex gap-2">
          <input
            [(ngModel)]="queryText"
            (keyup.enter)="query()"
            id="chatInput"
            type="text"
            placeholder="Ask a question..."
            class="flex-1 border border-gray-300 dark:border-[#545454] bg-white dark:bg-[#1e1e1e] text-black dark:text-white text-sm px-4 py-2 rounded-md focus:outline-none"
          />
          <button
            type="button"
            (click)="query()"
            id="sendChatBtn"
            class="bg-[#444ce7] text-white text-sm px-4 py-2 rounded-md hover:bg-[#3730a3] active:bg-[#312e81] transition">
            Send
          </button>
        </div>
      </div>
  
      <!-- Knowledge Panel -->
      <div class="hidden lg:w-1/3 bg-white dark:bg-[#2d2d2d] border border-[#aaabab] dark:border-[#545454] rounded-lg shadow-sm p-4">
        <h3 class="text-lg font-semibold text-black dark:text-white mb-3">Reference Materials</h3>
        <div id="knowledgeList" class="space-y-4 text-sm">
          <div class="bg-gray-100 dark:bg-[#3a3a3a] p-3 rounded-md">
            <strong class="text-black dark:text-white">JavaScript const</strong><br />
            <small class="text-[#7b8fa2] dark:text-[#b3c0cd]">The const keyword creates a read-only reference to a value.</small>
          </div>
          <div class="bg-gray-100 dark:bg-[#3a3a3a] p-3 rounded-md">
            <strong class="text-black dark:text-white">ES6 Modules</strong><br />
            <small class="text-[#7b8fa2] dark:text-[#b3c0cd]">Modules allow you to break up code into separate files.</small>
          </div>
          <div class="bg-gray-100 dark:bg-[#3a3a3a] p-3 rounded-md">
            <strong class="text-black dark:text-white">Python Lists</strong><br />
            <small class="text-[#7b8fa2] dark:text-[#b3c0cd]">Lists are mutable sequences used to store collections of items.</small>
          </div>
        </div>
      </div>
    </div>
  </div>
  